(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1204:function(e,t,r){var content=r(1219);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(142).default)("10f13a50",content,!0,{sourceMap:!1})},1218:function(e,t,r){"use strict";r(1204)},1219:function(e,t,r){var n=r(141)(!1);n.push([e.i,".anticon .anticon-loading[data-v-348b1b57]{display:none!important}",""]),e.exports=n},1231:function(e,t,r){"use strict";r.r(t);var n=r(26),o=(r(113),r(114),r(642),r(143),r(37),r(204),r(88),r(644),r(3)),l=r.n(o),d={name:"NewIndoorFormComponent",mounted:function(){var e,t,r=null===(e=window.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.split("/")[3];this.vendorID=r,this.getVendorName()},data:function(){return{vendorID:"",form:this.$form.createForm(this,{name:"coordinated"}),vendorName:"",formSubmitted:!1,agreed:!1,fileList:[],identityFileList:[],isCheckBoxTrue:!1,isClicked:!1,currentTime:l()()}},methods:{getVendorName:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("vendor/"+e.vendorID);case 2:(r=t.sent).data.vendorName?e.vendorName=r.data.vendorName:e.$message.error("Could not find the vendor. Please scan the QR again");case 4:case"end":return t.stop()}}),t)})))()},handleNewFormAddition:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isClicked=!0,e.preventDefault(),setTimeout((function(){t.isClicked=!1}),3e4),r.next=5,t.form.validateFields(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return t.isClicked=!1,t.$message.error("Could not submit form. Please try again."),e.abrupt("return");case 4:return e.prev=4,n=t.form.getFieldsValue(),(o=new FormData).append("vendorID",t.vendorID),o.append("email",n.email),o.append("fullName",n.fullName),o.append("dateOfVisit",n.dateOfVisit.format("YYYY-MM-DD").toString()),o.append("timeOfVisit",n.timeOfVisit.format("hh:mm A").toString()),o.append("refNo",n.refNo||""),o.append("image",t.fileList[0]),t.identityFileList.length>0&&o.append("image2",t.identityFileList[0]),e.next=17,t.$axios.post("form/indoor/add",o);case 17:if(200===(l=e.sent).status){e.next=20;break}throw new Error(l.data.error);case 20:t.$message.success("Your form has been received successfully."),t.formSubmitted=!0,t.isClicked=!1,e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),console.log(e.t0),t.isClicked=!1;case 29:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return r.stop()}}),r)})))()},handleRemove:function(e){var t=this.fileList.indexOf(e),r=this.fileList.slice();r.splice(t,1),this.fileList=r},beforeUpload:function(e){return this.fileList=[e],!1},handleRemoveIdentity:function(e){var t=this.identityFileList.indexOf(e),r=this.identityFileList.slice();r.splice(t,1),this.identityFileList=r},beforeUploadIdentity:function(e){return this.identityFileList=[e],!1},closeWindow:function(){window.close()}}},m=(r(1218),r(87)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Please fill in the form below:")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.formSubmitted,expression:"formSubmitted"}]},[n("h3",[e._v("\n      Your form has been submitted. You will receive a copy of the form that\n      you have submitted in the given email address.\n    ")]),e._v(" "),n("a",{on:{click:function(t){return e.closeWindow()}}},[n("i",[e._v("You can close this window.")])])]),e._v(" "),n("a-form",{directives:[{name:"show",rawName:"v-show",value:!e.formSubmitted,expression:"!formSubmitted"}],attrs:{form:e.form},on:{submit:e.handleNewFormAddition}},[n("p",{staticStyle:{background:"#9f9f9f"}},[n("b",[e._v(" Data Protection Notice:")]),e._v(" Your personal data is being collected on this form in order to help prevent the spread of COVID-19 in\n      "),n("b",[n("i",[e._v('"'+e._s(e.vendorName)+'"')])]),e._v("\n      and to protect our staff and our customers. Your personal data is being processed in accordance with Article 9(2)(i) of the General Data Protection Regulation, and Section 53 of the Data Protection Act 2018. The information you provide on this form will not be used for any other purpose, and will be strictly confidential. The form will be accessible only to the vendor for whom you have filled the form. E-Society will not retain any of your information once you hit submit.  "),n("br"),e._v(" "),n("b",[e._v("Powered by:")]),n("br"),e._v(" "),n("a",{attrs:{href:"https://e-society.ie"}},[n("img",{attrs:{src:r(643),alt:"E-society logo",width:"150"}})])]),e._v(" "),n("a-form-item",{attrs:{label:"Vendor"}},[n("a-input",{attrs:{disabled:""},model:{value:e.vendorName,callback:function(t){e.vendorName=t},expression:"vendorName"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Email"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Please input your email!"}]}],expression:"[\n          'email',\n          {\n            rules: [{ required: true, message: 'Please input your email!' }],\n          },\n        ]"}],attrs:{type:"email"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Full Name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fullName",{rules:[{required:!0,message:"Please input your full name!"}]}],expression:"[\n          'fullName',\n          {\n            rules: [\n              { required: true, message: 'Please input your full name!' },\n            ],\n\n          },\n        ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"Date of Visit"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfVisit",{rules:[{required:!0,message:"Please input your date of visit!"}],initialValue:e.currentTime}],expression:"[\n          'dateOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your date of visit!' },\n            ],\n            initialValue:currentTime\n          },\n        ]"}],staticStyle:{width:"100%"},attrs:{format:"DD-MM-YYYY"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Time of Visit"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["timeOfVisit",{rules:[{required:!0,message:"Please input your time of visit!"}],initialValue:e.currentTime}],expression:"[\n          'timeOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n             initialValue: currentTime\n          },\n        ]"}],staticStyle:{width:"100%"},attrs:{"use12-hours":"",format:"hh:mm A"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Table Number/Booking Reference/Confirmation Number"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["refNo"],expression:"[\n          'refNo',\n\n        ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"Upload One of the following: EU Vaccination Cert/ or Foreign Equivalent/ or Immunization Proof"}},[n("a-upload",{attrs:{"file-list":e.fileList,remove:e.handleRemove,"before-upload":e.beforeUpload,multiple:!1}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v(" Select File ")],1)],1)],1),e._v(" "),n("a-form-item",{attrs:{label:"Upload your identification"}},[n("a-upload",{attrs:{"file-list":e.identityFileList,remove:e.handleRemoveIdentity,"before-upload":e.beforeUploadIdentity,multiple:!1}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v(" Select Identification File ")],1)],1)],1),e._v(" "),n("a-checkbox",{model:{value:e.isCheckBoxTrue,callback:function(t){e.isCheckBoxTrue=t},expression:"isCheckBoxTrue"}},[e._v("\n      Tick this box to confirm the information provided is authentic and that all images/files uploaded are verification of your legal capability to enter the premises for indoor dining within the present Health Acts & Emergency measures.      ")]),e._v(" "),n("a-form-item",[n("a-button",{attrs:{type:"primary","html-type":"submit",disabled:!e.isCheckBoxTrue||e.isClicked}},[e._v(" Submit ")])],1)],1)],1)}),[],!1,null,"348b1b57",null);t.default=component.exports}}]);