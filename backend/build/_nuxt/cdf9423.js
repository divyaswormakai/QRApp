(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1198:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(203);var r=n(298);function c(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1216:function(e,t,n){"use strict";n.r(t);var o=n(25),r=n(1198),c=(n(113),n(114),n(642),n(140),n(297),n(202),n(89),n(88),n(26)),d={name:"forms",mounted:function(){var e,t,n=null===(e=window.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.split("/")[3];this.vendorID=n,this.getFormList()},data:function(){return{vendorID:"",formList:[],columns:c.a}},methods:{downloadCSV:function(){var e="data:text/csv;charset=utf-8,";e+=[["S.No.","Full Name","Phone Number","Email","Vendor Name","Date of Visit","Time of Visit","Do you have temperature?","Do you have cough?","Have you travelled abord in past 14 days?","Have you been in positive contact in 14 days?","Comments"].join(",")].concat(Object(r.a)(this.formList.map((function(e,t){var n;return[t+1,e.fullName,e.phoneNumber,e.email,null===(n=e.vendorID)||void 0===n?void 0:n.vendorName,e.dateOfVisit.slice(0,10),e.timeOfVisit,e.temperature?"Yes":"No",e.cough?"Yes":"No",e.abroadIn14Days?"Yes":"No",e.contactIn14Days?"Yes":"No",e.comments].join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var data=encodeURI(e),link=document.createElement("a");link.setAttribute("href",data),link.setAttribute("download","vendorforms.csv"),link.click()},getFormList:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/form/vendor/"+e.vendorID);case 2:n=t.sent,Array.isArray(null==n?void 0:n.data)||e.$message.error("Could not load form data."),e.formList=null==n?void 0:n.data;case 5:case"end":return t.stop()}}),t)})))()}}},l=n(87),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("This will be where forms related to vendor will be shown")]),e._v(" "),n("a-button",{on:{click:function(t){return e.downloadCSV()}}},[e._v("Download CSV")]),e._v(" "),n("a-table",{attrs:{columns:e.columns,"data-source":e.formList,rowKey:function(e){return e.id},scroll:{x:1200}},scopedSlots:e._u([{key:"formID",fn:function(text,t,o){return n("span",{},[e._v(e._s(o+1))])}},{key:"fullName",fn:function(text,t){return n("p",{},[e._v(e._s(text))])}},{key:"dateOfVisit",fn:function(text,t){return n("span",{},[e._v("\n      "+e._s(text.split("T")[0])+"\n    ")])}},{key:"vendorName",fn:function(text,t){return n("a",{attrs:{href:"/vendor/"+t.vendorID.id}},[e._v(e._s(t.vendorID.vendorName))])}}])})],1)}),[],!1,null,"56a0a4b4",null);t.default=component.exports}}]);