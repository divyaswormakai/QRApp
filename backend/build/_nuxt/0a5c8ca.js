(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1214:function(e,t,r){"use strict";r.r(t);r(78),r(65),r(77),r(115),r(64),r(116);var o=r(54),n=r(26);r(113),r(114),r(642),r(37),r(204);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"NewFormComponent",mounted:function(){var e,t,r=null===(e=window.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.split("/")[3];this.vendorID=r,this.getVendorName()},data:function(){return{vendorID:"",form:this.$form.createForm(this,{name:"coordinated"}),vendorName:"",formSubmitted:!1}},methods:{getVendorName:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("vendor/"+e.vendorID);case 2:(r=t.sent).data.vendorName?e.vendorName=r.data.vendorName:e.$message.error("Could not find the vendor. Please scan the QR again");case 4:case"end":return t.stop()}}),t)})))()},handleNewFormAddition:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,t.form.validateFields(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return t.$message.error("Could not submit form. Please try again."),e.abrupt("return");case 3:return(o=l(l({},t.form.getFieldsValue()),{},{vendorID:t.vendorID})).timeOfVisit=o.timeOfVisit.format("h:mm a").toString(),e.next=7,t.$axios.post("form/add",o);case 7:e.sent.data.vendorID&&(t.$message.success("Your form has been recieved successfully"),t.formSubmitted=!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}}},c=r(87),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Please fill in the form below:")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.formSubmitted,expression:"formSubmitted"}]},[r("h4",[e._v("\n      Your form has been submitted. You will receive a copy of the form that\n      you have submitted in the given email address\n    ")]),e._v(" "),r("i",[e._v("You can close this window.")])]),e._v(" "),r("a-form",{directives:[{name:"show",rawName:"v-show",value:!e.formSubmitted,expression:"!formSubmitted"}],attrs:{form:e.form},on:{submit:e.handleNewFormAddition}},[r("p",[r("b",[e._v(" Data Protection Notice:")]),e._v(" Your personal data is being collected on\n      this form in order to help prevent the spread of COVID-19 in our\n      barbershops and to protect our staff. Your personal data is being\n      processed in accordance with Article 9(2)(i) of the General Data\n      Protection Regulation, and Section 53 of the Data Protection Act 2018.\n      The information you provide on this form will not be used for any other\n      purpose, and will be strictly confidential. The form will be accessible\n      only to administrator of e-society and the vendor for whom you have\n      filled the form. Your data will be retained for 12 weeks.\n    ")]),e._v(" "),r("a-form-item",{attrs:{label:"Vendor"}},[r("a-input",{attrs:{disabled:""},model:{value:e.vendorName,callback:function(t){e.vendorName=t},expression:"vendorName"}})],1),e._v(" "),r("a-form-item",{attrs:{label:"Email"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Please input your email!"}]}],expression:"[\n          'email',\n          {\n            rules: [{ required: true, message: 'Please input your email!' }],\n          },\n        ]"}],attrs:{type:"email"}})],1),e._v(" "),r("a-form-item",{attrs:{label:"Full Name"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fullName",{rules:[{required:!0,message:"Please input your full name!"}]}],expression:"[\n          'fullName',\n          {\n            rules: [\n              { required: true, message: 'Please input your full name!' },\n            ],\n          },\n        ]"}]})],1),e._v(" "),r("a-form-item",{attrs:{label:"Contact Number"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0,message:"Please input your contact number!"}]}],expression:"[\n          'phoneNumber',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Please input your contact number!',\n              },\n            ],\n          },\n        ]"}]})],1),e._v(" "),r("a-form-item",{attrs:{label:"Date of Visit"}},[r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfVisit",{rules:[{required:!0,message:"Please input your date of visit!"}]}],expression:"[\n          'dateOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your date of visit!' },\n            ],\n          },\n        ]"}],staticStyle:{width:"100%"}})],1),e._v(" "),r("a-form-item",{attrs:{label:"Time of Visit"}},[r("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["timeOfVisit",{rules:[{required:!0,message:"Please input your time of visit!"}]}],expression:"[\n          'timeOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n          },\n        ]"}],staticStyle:{width:"100%"},attrs:{"use12-hours":"",format:"h:mm:a"}})],1),e._v(" "),r("a-form-item",{attrs:{label:"Do you have temperature?"}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["temperature",{rules:[{required:!0,message:"Please input your time of visit!"}]}],expression:"[\n          'temperature',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n          },\n        ]"}],attrs:{"button-style":"solid"}},[r("a-radio-button",{attrs:{value:!0}},[e._v(" Yes ")]),e._v(" "),r("a-radio-button",{attrs:{value:!1}},[e._v(" No ")])],1)],1),e._v(" "),r("a-form-item",{attrs:{label:"Do you have cough?"}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["cough",{rules:[{required:!0,message:"Please input your time of visit!"}]}],expression:"[\n          'cough',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n          },\n        ]"}],attrs:{"button-style":"solid"}},[r("a-radio-button",{attrs:{value:!0}},[e._v(" Yes ")]),e._v(" "),r("a-radio-button",{attrs:{value:!1}},[e._v(" No ")])],1)],1),e._v(" "),r("a-form-item",{attrs:{label:"Have you been abroad in the past 14 days? "}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["abroadIn14Days",{rules:[{required:!0,message:"Please input your time of visit!"}]}],expression:"[\n          'abroadIn14Days',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n          },\n        ]"}],attrs:{"button-style":"solid"}},[r("a-radio-button",{attrs:{value:!0}},[e._v(" Yes ")]),e._v(" "),r("a-radio-button",{attrs:{value:!1}},[e._v(" No ")])],1)],1),e._v(" "),r("a-form-item",{attrs:{label:"Have you been in contact with a confirmed positive Covid-19 case in the past 14 days? "}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["contactIn14Days",{rules:[{required:!0,message:"Please input your time of visit!"}]}],expression:"[\n          'contactIn14Days',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n          },\n        ]"}],attrs:{"button-style":"solid"}},[r("a-radio-button",{attrs:{value:!0}},[e._v(" Yes ")]),e._v(" "),r("a-radio-button",{attrs:{value:!1}},[e._v(" No ")])],1)],1),e._v(" "),r("a-form-item",{attrs:{label:"How many people were there in your table/group?"}},[r("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["noOfPeopleInGroup"],expression:"['noOfPeopleInGroup']"}]})],1),e._v(" "),r("a-form-item",{attrs:{label:"Have you been in contact with a confirmed positive Covid-19 case in the past 14 days? "}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comments"],expression:"['comments']"}],attrs:{placeholder:"Any comments on the form, feel free to write it down here.","auto-size":{minRows:2,maxRows:10}}})],1),e._v(" "),r("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" Submit ")])],1)],1)],1)}),[],!1,null,"5eb8e8f5",null);t.default=component.exports}}]);