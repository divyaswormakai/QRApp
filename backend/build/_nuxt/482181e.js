(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1199:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(203);var o=t(298);function l(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1235:function(e,n,t){"use strict";t.r(n);var r=t(26),o=t(1199),l=(t(113),t(114),t(642),t(140),t(297),t(202),t(89),t(88),t(22)),d={name:"forms",mounted:function(){var e,n,t=null===(e=window.location)||void 0===e||null===(n=e.pathname)||void 0===n?void 0:n.split("/")[3];this.vendorID=t,this.getFormList()},data:function(){return{vendorID:"",formList:[],columns:l.b}},methods:{downloadCSV:function(){var e="data:text/csv;charset=utf-8,";e+=[["S.No.","Full Name","Phone Number","Email","Vendor Name","Date of Visit","Time of Visit","No. of people in group"].join(",")].concat(Object(o.a)(this.formList.map((function(e,n){var t;return[n+1,e.fullName,e.phoneNumber,e.email,null===(t=e.vendorID)||void 0===t?void 0:t.vendorName,e.dateOfVisit.slice(0,10),e.timeOfVisit,e.noOfPeopleInGroup].join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var data=encodeURI(e),link=document.createElement("a");link.setAttribute("href",data),link.setAttribute("download","vendorforms.csv"),link.click()},getFormList:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.post("/form/vendor/"+e.vendorID);case 2:t=n.sent,Array.isArray(null==t?void 0:t.data)||e.$message.error("Could not load form data."),e.formList=null==t?void 0:t.data;case 5:case"end":return n.stop()}}),n)})))()}}},c=t(87),component=Object(c.a)(d,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h3",[e._v("This will be where forms related to vendor will be shown")]),e._v(" "),t("a-button",{on:{click:function(n){return e.downloadCSV()}}},[e._v("Download CSV")]),e._v(" "),t("a-table",{attrs:{columns:e.columns,"data-source":e.formList,rowKey:function(e){return e.id},scroll:{x:1200}},scopedSlots:e._u([{key:"formID",fn:function(text,n,r){return t("span",{},[e._v(e._s(r+1))])}},{key:"fullName",fn:function(text,n){return t("p",{},[e._v(e._s(text))])}},{key:"dateOfVisit",fn:function(text,n){return t("span",{},[e._v("\n      "+e._s(text.split("T")[0])+"\n    ")])}},{key:"vendorName",fn:function(text,n){return t("a",{attrs:{href:"/vendor/"+n.vendorID.id}},[e._v(e._s(n.vendorID.vendorName))])}}])})],1)}),[],!1,null,"5ab8dad4",null);n.default=component.exports}}]);