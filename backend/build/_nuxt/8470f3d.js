(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1232:function(e,t,r){"use strict";r.r(t);r(77),r(65),r(78),r(115),r(64),r(116);var n=r(54),o=r(26),m=(r(113),r(114),r(642),r(37),r(204),r(3)),c=r.n(m);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"NewFormComponent",mounted:function(){var e,t,r=null===(e=window.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.split("/")[3];this.vendorID=r,this.getVendorName()},data:function(){return{vendorID:"",form:this.$form.createForm(this,{name:"coordinated"}),vendorName:"",formSubmitted:!1,currentTime:c()()}},methods:{getVendorName:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("vendor/"+e.vendorID);case 2:(r=t.sent).data.vendorName?e.vendorName=r.data.vendorName:e.$message.error("Could not find the vendor. Please scan the QR again");case 4:case"end":return t.stop()}}),t)})))()},handleNewFormAddition:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,t.form.validateFields(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return t.$message.error("Could not submit form. Please try again."),e.abrupt("return");case 3:return n=d(d({},t.form.getFieldsValue()),{},{dateOfVisit:t.form.getFieldsValue().dateOfVisit.format("YYYY-MM-DD").toString(),timeOfVisit:t.form.getFieldsValue().timeOfVisit.format("hh:mm A").toString(),vendorID:t.vendorID}),e.next=6,t.$axios.post("form/add",n);case 6:e.sent.data.vendorID&&(t.$message.success("Your form has been received successfully"),t.formSubmitted=!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()},closeWindow:function(){window.close()}}},v=r(87),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Please fill in the form below:")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.formSubmitted,expression:"formSubmitted"}]},[n("h3",[e._v("\n      Your form has been submitted. You will receive a copy of the form that\n      you have submitted in the given email address.\n    ")]),e._v(" "),n("a",{on:{click:function(t){return e.closeWindow()}}},[n("i",[e._v("You can close this window.")])])]),e._v(" "),n("a-form",{directives:[{name:"show",rawName:"v-show",value:!e.formSubmitted,expression:"!formSubmitted"}],attrs:{form:e.form},on:{submit:e.handleNewFormAddition}},[n("p",{staticStyle:{background:"#9f9f9f"}},[n("b",[e._v(" Data Protection Notice:")]),e._v(" Your personal data is being collected on\n      this form in order to help prevent the spread of COVID-19 in\n      "),n("b",[n("i",[e._v('"'+e._s(e.vendorName)+'"')])]),e._v("\n      and to protect our staff. Your personal data is being processed in\n      accordance with Article 9(2)(i) of the General Data Protection\n      Regulation, and Section 53 of the Data Protection Act 2018. The\n      information you provide on this form will not be used for any other\n      purpose, and will be strictly confidential. The form will be accessible\n      only to administrator of e-society and the vendor for whom you have\n      filled the form."),n("br"),e._v("\n      The Health Act 1947 (Section 31A - Temporary Restrictions) (Covid-19) (No. 2) Regulations 2021 (SI 217 of 2021) provide that a specified person shall retain and make available records made under paragraph (2) for the purposes of inspection by a member of the Garda Síochána acting in the course of his or her duties under these Regulations, or by a person appointed by the Health Service Executive for the purposes of the programme commonly known as the Covid-19 Contact Management Programme, for a period of 28 days after the records have been made. Should a confirmed case arise, the Contact Management Programme will take the necessary action to contact those who need to be contacted.\n      "),n("br"),e._v(" "),n("b",[e._v("Powered by:")]),n("br"),e._v(" "),n("a",{attrs:{href:"https://e-society.ie"}},[n("img",{attrs:{src:r(643),alt:"E-society logo",width:"150"}})])]),e._v(" "),n("a-form-item",{attrs:{label:"Vendor"}},[n("a-input",{attrs:{disabled:""},model:{value:e.vendorName,callback:function(t){e.vendorName=t},expression:"vendorName"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Email"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Please input your email!"}]}],expression:"[\n          'email',\n          {\n            rules: [{ required: true, message: 'Please input your email!' }],\n          },\n        ]"}],attrs:{type:"email"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Full Name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fullName",{rules:[{required:!0,message:"Please input your full name!"}]}],expression:"[\n          'fullName',\n          {\n            rules: [\n              { required: true, message: 'Please input your full name!' },\n            ],\n          },\n        ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"Contact Number"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0,message:"Please input your contact number!"}]}],expression:"[\n          'phoneNumber',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Please input your contact number!',\n              },\n            ],\n          },\n        ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"Date of Visit"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfVisit",{rules:[{required:!0,message:"Please input your date of visit!"}],initialValue:e.currentTime}],expression:"[\n          'dateOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your date of visit!' },\n            ],\n                          initialValue: currentTime\n\n          },\n        ]"}],staticStyle:{width:"100%"},attrs:{format:"DD-MM-YYYY"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"Time of Visit"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["timeOfVisit",{rules:[{required:!0,message:"Please input your time of visit!"}],initialValue:e.currentTime}],expression:"[\n          'timeOfVisit',\n          {\n            rules: [\n              { required: true, message: 'Please input your time of visit!' },\n            ],\n            initialValue: currentTime\n          },\n        ]"}],staticStyle:{width:"100%"},attrs:{"use12-hours":"",format:"hh:mm A"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"How many people are there in your table/group?"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["noOfPeopleInGroup"],expression:"['noOfPeopleInGroup']"}]})],1),e._v(" "),n("a-form-item",[n("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" Submit ")])],1)],1)],1)}),[],!1,null,"1ce25320",null);t.default=component.exports}}]);